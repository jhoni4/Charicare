@model Charicare2.Models.AppViewModels.DashboardListViewModel
@using FusionCharts.Charts

@{  
    var imagePath = @"images\m2.png";
    ViewData["pic1"] = "http://kzookids.com/wp-content/uploads/2015/12/untitled.png";

}
@{
    <script type="text/javascript" src="~/lib/fusioncharts/fusioncharts.js"></script>
    <script type="text/javascript" src="~/lib/fusioncharts/fusioncharts.maps.js"></script>
    <script type="text/javascript">
        FusionCharts.ready(function () {
            var fusioncharts = new FusionCharts({
                type: 'column3d',
                renderAt: 'chart-container',
                width: '500',
                height: '300',
                dataFormat: 'json',
                dataSource: {
                    "chart": {
                        "caption": "Dashboard ",
                        "subCaption": "Donate Type vs Thier Total Value",
                        "xAxisName": "Donate Type Name",
                        "yAxisName": "Value (In USD)",
                        "numberPrefix": "$",
                        "aligncaptionwithcanvas": "0",
                        "numberprefix": "$",
                        "canvasbgalpha": "0",
                        "showborder": "0",
                        "divlinealpha": "25",
                        "canvasbasecolor": "#C8C8C8",
                        "bgimage": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/BMW.svg/2000px-BMW.svg.png",
                        "bgimagealpha": "15",
                        "bgimagedisplaymode": "stretch",
                        "palettecolors": "#1559CF"
                    },
                    "annotations": {
                        "autoscale": "0",
                        "scaleimages": "1",
                        "origw": "400",
                        "origh": "300",
                        "groups": [
                            {
                                "id": "user-images",
                                "items": [
                                    {
                                        "id": "Batman-icon",
                                        "type": "image",
                                        "url": "@ViewData["pic1"]",
                                        "x": "$dataset.0.set.0.CenterX - 25.5",
                                        "y": "$dataset.0.set.0.EndY + 5"
                                    },
                                    {
                                        "id": "Thor-icon",
                                        "type": "image",
                                        "url": "url(@ViewData["pic1"])",
                                        "x": "$dataset.0.set.1.CenterX - 25.5",
                                        "y": "$dataset.0.set.1.EndY + 5"
                                    },
                                    {
                                        "id": "IronMan-icon",
                                        "type": "image",
                                        "url": "http://kzookids.com/wp-content/uploads/2015/12/untitled.png",
                                        "x": "$dataset.0.set.2.CenterX - 25.5",
                                        "y": "$dataset.0.set.2.EndY + 5"
                                    },
                                    {
                                        "id": "SuperMan-icon",
                                        "type": "image",
                                        "url": "http://static.fusioncharts.com/sampledata/annotaions/superman.png",
                                        "x": "$dataset.0.set.3.CenterX - 25.5",
                                        "y": "$dataset.0.set.3.EndY + 5"
                                    }
                                ]
                            }
                        ]
                    },

                    "data": [
                      {
                          "label": "Clothes",
                          "value": "@Model.ClothTotalValue"
                      },
                      {
                          "label": "Goods",
                          "value": "@Model.GoodsTotalValue"
                      },
                      {
                          "label": "Money",
                          "value": "@Model.MoneyTotalValue"
                      },
                      {
                          "label": "Medical",
                          "value": "@Model.MedicalTotalValue"
                      }]
                }
            }
        );
            fusioncharts.render();
        });
    </script>
}

<div class="Dashboard dashboardPage">
    <div><img src='@imagePath' width="50" height="50"/></div>
    <div class="panel panel-success row">
        <div class="panel-heading" style="text-align:center;"><b>Dashboard</b></div>
        <div class="panel-body well">
            <div class="col-md-6">
                <img src="~/images/a-motto.png" width="200" height="200" />
            </div>
            <div class="col-md-6">
                <ul class="list-group">
                    <li class="list-group-item">
                        <span class="badge">@Model.TotalCountOfClothesDonates</span>
                        Count of Clothes Donates is
                    </li>
                    <li class="list-group-item">
                        <span class="badge">@Model.TotalCountOfMoneyDonates</span>
                        Count of money Donates is
                    </li>
                    <li class="list-group-item">
                        <span class="badge">@Model.TotalCountOfGoodsDonates</span>
                        Count of Goods Donates is
                    </li>
                    <li class="list-group-item">
                        <span class="badge">@Model.TotalCountOfMedicalDonates</span>
                        Count of Medicals Donates is
                    </li>
                </ul>
            </div>
            <div class="alert alert-success">Total Amount of Money Donated is = @Model.TotalAmontOfMoney.</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-5" style="text-align:center">
            <div ID="chart-container"></div>
            <p>Cloth Total Value : $@Model.ClothTotalValue</p>
            <p>Goods Total Value : $@Model.GoodsTotalValue</p>
            <p>Money Total Value : $@Model.MoneyTotalValue</p>
            <p>Medical Total Value : $@Model.MedicalTotalValue</p>
        </div>
        <div class="panel panel-success col-md-offset-6">
            <div class="panel-heading" style="text-align:center;"><b>ChariCare Stat</b></div>
            <table class="table">
                <thead>
                    <tr>
                        <th>
                            <p>Lists of all donates</p>
                        </th>
                        <th>
                            <p>Value in $</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.donates)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Value)
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

